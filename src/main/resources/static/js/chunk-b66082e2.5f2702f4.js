(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b66082e2"],{"54e2":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"bg"},[n("div",{staticClass:"login-wrap animated fadeIn"},[n("h3",[e._v("财大附中")]),n("p",[e._v("教工积分制管理系统")]),n("el-form",{ref:"form",attrs:{model:e.loginDto,rules:e.rules,"label-width":"0px"}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{clearable:"",placeholder:"用户名"},model:{value:e.loginDto.username,callback:function(t){e.$set(e.loginDto,"username",t)},expression:"loginDto.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{clearable:"",placeholder:"密码",type:"password"},model:{value:e.loginDto.password,callback:function(t){e.$set(e.loginDto,"password",t)},expression:"loginDto.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login("form")}}},[e._v("登 录")])],1)],1)],1),n("vue-particles",{attrs:{clickEffect:!0,hoverEffect:!0,lineLinked:!0,lineOpacity:.4,linesDistance:150,linesWidth:2,moveSpeed:3,particleOpacity:.7,particleSize:5,particlesNumber:30,clickMode:"push",color:"#fff",hoverMode:"grab",linesColor:"#fff",shapeType:"star"}})],1)},i=[],a=(n("a4d3"),n("e01a"),n("d3b7"),n("a18c")),r=n("e2c9"),s={name:"SignIn",data:function(){return{loginDto:{username:"",password:""},rules:{username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},loading:!1}},methods:{login:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0,t.$api.login({loginDto:t.loginDto}).then((function(e){if(1===e.code){console.log(e.data);var n=e.data.logo;t.$store.commit("initUser",e.data),t.$store.commit("initToken",e.data.token),t.$showMsg("success",e.description),-1===n?t.getMenu("getTchMenu"):1===n?t.getMenu("getAdminMenu"):t.getMenu("getMenu")}else t.$showMsg("error",e.description)})).finally((function(){t.loading=!1}))}))},getMenu:function(e){var t=this;this.$api.getMenu(e).then((function(e){console.log("menu:"+e);var n=e.data.menu;t.$store.commit("initMenu",n);var o=Object(r["a"])(n);a["a"].addRoutes(o),t.$router.push("/UserInfo")}))}}},l=s,c=(n("f6e4"),n("2877")),u=Object(c["a"])(l,o,i,!1,null,"6d043a86",null);t["default"]=u.exports},e4bd:function(e,t,n){},f6e4:function(e,t,n){"use strict";n("e4bd")}}]);
//# sourceMappingURL=chunk-b66082e2.5f2702f4.js.map