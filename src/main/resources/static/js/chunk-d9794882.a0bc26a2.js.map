{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/RuleManage.vue?7af3","webpack:///src/views/RuleManage.vue","webpack:///./src/views/RuleManage.vue?7de6","webpack:///./src/views/RuleManage.vue","webpack:///./src/views/RuleManage.vue?11d3","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","slot","_v","staticStyle","model","value","callback","$$v","classify","expression","_l","item","index","key","label","staticClass","on","$event","deleteClassifyRule","_s","addRule","dialogAddNewClassifyRule","saveRule","rulesComputed","trigger","mode","name","type","scopedSlots","_u","fn","ref","row","deleteRule","id","newClassifyRule","$set","addNewClassifyRule","cancelAddNewClassifyRule","staticRenderFns","data","user","$store","state","rules","classifyOption","methods","getRule","formData","append","$api","then","arr","prev","next","push","$confirm","confirmButtonText","cancelButtonText","reason","addLimit","desLimit","illustrate","computed","filter","mounted","component","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","i","TypeError","module","exports","right"],"mappings":"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","file":"static/js/chunk-d9794882.a0bc26a2.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('span',[_vm._v(\"计分规则管理\")]),_c('el-select',{staticStyle:{\"margin-left\":\"20px\"},model:{value:(_vm.classify),callback:function ($$v) {_vm.classify=$$v},expression:\"classify\"}},_vm._l((_vm.classifyOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-col',{staticClass:\"btn-area\",attrs:{\"span\":8}},[_c('el-dropdown',{staticStyle:{\"margin-right\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" 删除系列积分分类\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.classifyOption),function(item,index){return _c('el-dropdown-item',{key:index},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteClassifyRule(item.value)}}},[_vm._v(\"删除\"+_vm._s(item.value)+\"系列积分分类\")])],1)}),1)],1),_c('el-dropdown',{staticStyle:{\"margin-right\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" 新增\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.addRule}},[_vm._v(\"新增原有计分分类\")])],1),_c('el-dropdown-item',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.dialogAddNewClassifyRule = true}}},[_vm._v(\"新增新的计分分类\")])],1)],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRule}},[_vm._v(\"保存\")])],1)],1)],1),_c('vxe-table',{attrs:{\"border\":\"\",\"resizable\":\"\",\"show-overflow\":\"\",\"data\":_vm.rulesComputed,\"edit-config\":{trigger: 'dblclick', mode: 'cell'},\"highlight-hover-row\":true}},[_c('vxe-table-column',{attrs:{\"type\":\"seq\",\"width\":\"60\"}}),_c('vxe-table-column',{attrs:{\"width\":\"100\",\"field\":\"classify\",\"title\":\"计分分类\"}}),_c('vxe-table-column',{attrs:{\"width\":\"300\",\"field\":\"reason\",\"title\":\"计分理由\",\"edit-render\":{name: 'input', attrs:{type: 'text'}}}}),_c('vxe-table-column',{attrs:{\"width\":\"200\",\"field\":\"addLimit\",\"title\":\"加分额度\",\"edit-render\":{name: 'input', attrs:{type: 'text'}}}}),_c('vxe-table-column',{attrs:{\"width\":\"200\",\"field\":\"desLimit\",\"title\":\"扣分额度\",\"edit-render\":{name: 'input', attrs:{type: 'text'}}}}),_c('vxe-table-column',{attrs:{\"field\":\"illustrate\",\"title\":\"说明\",\"edit-render\":{name: 'input', attrs:{type: 'text'}}}}),_c('vxe-table-column',{attrs:{\"title\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteRule(row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogAddNewClassifyRule,\"title\":'新增新的计分分类规则'},on:{\"update:visible\":function($event){_vm.dialogAddNewClassifyRule=$event}}},[_c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"计分分类：\"}},[_c('el-input',{model:{value:(_vm.newClassifyRule.classify),callback:function ($$v) {_vm.$set(_vm.newClassifyRule, \"classify\", $$v)},expression:\"newClassifyRule.classify\"}})],1),_c('el-form-item',{attrs:{\"label\":\"计分理由：\"}},[_c('el-input',{model:{value:(_vm.newClassifyRule.reason),callback:function ($$v) {_vm.$set(_vm.newClassifyRule, \"reason\", $$v)},expression:\"newClassifyRule.reason\"}})],1),_c('el-form-item',{attrs:{\"label\":\"加分额度：\"}},[_c('el-input',{model:{value:(_vm.newClassifyRule.addLimit),callback:function ($$v) {_vm.$set(_vm.newClassifyRule, \"addLimit\", $$v)},expression:\"newClassifyRule.addLimit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"扣分额度：\"}},[_c('el-input',{model:{value:(_vm.newClassifyRule.desLimit),callback:function ($$v) {_vm.$set(_vm.newClassifyRule, \"desLimit\", $$v)},expression:\"newClassifyRule.desLimit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"说明：\"}},[_c('el-input',{model:{value:(_vm.newClassifyRule.illustrate),callback:function ($$v) {_vm.$set(_vm.newClassifyRule, \"illustrate\", $$v)},expression:\"newClassifyRule.illustrate\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"btn-area\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNewClassifyRule}},[_vm._v(\"确定\")]),_c('el-button',{on:{\"click\":_vm.cancelAddNewClassifyRule}},[_vm._v(\"取消\")])],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<el-card>\n\t\t\t<div slot=\"header\">\n\t\t\t\t<el-row type=\"flex\" justify=\"space-between\" align=\"middle\">\n\t\t\t\t\t<el-col :span=\"12\">\n\t\t\t\t\t\t<span>计分规则管理</span>\n\t\t\t\t\t\t<el-select v-model=\"classify\" style=\"margin-left: 20px\">\n\t\t\t\t\t\t\t<el-option v-for=\"(item,index) in classifyOption\" :key=\"index\"\n\t\t\t\t\t\t\t           :label=\"item.label\" :value=\"item.value\"></el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"8\" class=\"btn-area\">\n\t\t\t\t\t\t<el-dropdown style=\"margin-right: 20px\">\n\t\t\t\t\t\t\t<el-button type=\"primary\">\n\t\t\t\t\t\t\t\t删除系列积分分类<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t\t\t\t<el-dropdown-item v-for=\"(item,index) in classifyOption\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<el-button type=\"text\" @click=\"deleteClassifyRule(item.value)\">删除{{item.value}}系列积分分类</el-button>\n\t\t\t\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t\t\t\t</el-dropdown-menu>\n\t\t\t\t\t\t</el-dropdown>\n\t\t\t\t\t\t<el-dropdown style=\"margin-right: 20px\">\n\t\t\t\t\t\t\t<el-button type=\"primary\">\n\t\t\t\t\t\t\t\t新增<i class=\"el-icon-arrow-down el-icon--right\"></i>\n\t\t\t\t\t\t\t</el-button>\n\t\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\n\t\t\t\t\t\t\t\t<el-dropdown-item>\n\t\t\t\t\t\t\t\t\t<el-button type=\"text\" @click=\"addRule\">新增原有计分分类</el-button>\n\t\t\t\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t\t\t\t\t<el-dropdown-item>\n\t\t\t\t\t\t\t\t\t<el-button type=\"text\" @click=\"dialogAddNewClassifyRule = true\">新增新的计分分类</el-button>\n\t\t\t\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t\t\t\t</el-dropdown-menu>\n\t\t\t\t\t\t</el-dropdown>\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"saveRule\">保存</el-button>\n\t\t\t\t\t</el-col>\n\t\t\t\t</el-row>\n\t\t\t</div>\n\t\t\t<vxe-table border resizable show-overflow :data=\"rulesComputed\"\n\t\t\t           :edit-config=\"{trigger: 'dblclick', mode: 'cell'}\" :highlight-hover-row=\"true\">\n\t\t\t\t<vxe-table-column type=\"seq\" width=\"60\"></vxe-table-column>\n\t\t\t\t<vxe-table-column width=\"100\" field=\"classify\" title=\"计分分类\"></vxe-table-column>\n\t\t\t\t<vxe-table-column width=\"300\" field=\"reason\" title=\"计分理由\" :edit-render=\"{name: 'input', attrs:{type: 'text'}}\"></vxe-table-column>\n\t\t\t\t<vxe-table-column width=\"200\" field=\"addLimit\" title=\"加分额度\" :edit-render=\"{name: 'input', attrs:{type: 'text'}}\"></vxe-table-column>\n\t\t\t\t<vxe-table-column width=\"200\" field=\"desLimit\" title=\"扣分额度\" :edit-render=\"{name: 'input', attrs:{type: 'text'}}\"></vxe-table-column>\n\t\t\t\t<vxe-table-column field=\"illustrate\" title=\"说明\" :edit-render=\"{name: 'input', attrs:{type: 'text'}}\"></vxe-table-column>\n\t\t\t\t<vxe-table-column title=\"操作\" width=\"100\">\n\t\t\t\t\t<template v-slot=\"{ row }\">\n\t\t\t\t\t\t\t<el-button type=\"text\" @click=\"deleteRule(row.id)\">删除</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</vxe-table-column>\n\t\t\t</vxe-table>\n\t\t\t<el-dialog :visible.sync=\"dialogAddNewClassifyRule\" :title=\"'新增新的计分分类规则'\">\n\t\t\t\t<el-form label-position=\"right\" label-width=\"100px\">\n\t\t\t\t\t<el-form-item label=\"计分分类：\">\n\t\t\t\t\t\t<el-input v-model=\"newClassifyRule.classify\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"计分理由：\">\n\t\t\t\t\t\t<el-input v-model=\"newClassifyRule.reason\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"加分额度：\">\n\t\t\t\t\t\t<el-input v-model=\"newClassifyRule.addLimit\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"扣分额度：\">\n\t\t\t\t\t\t<el-input v-model=\"newClassifyRule.desLimit\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"说明：\">\n\t\t\t\t\t\t<el-input v-model=\"newClassifyRule.illustrate\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<div class=\"btn-area\">\n\t\t\t\t\t\t\t<el-button type=\"primary\" @click=\"addNewClassifyRule\">确定</el-button>\n\t\t\t\t\t\t\t<el-button @click=\"cancelAddNewClassifyRule\">取消</el-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</el-dialog>\n\t\t</el-card>\n\t</div>\n</template>\n\n<script>\nexport default {\n  name: \"dashboard\",\n  data() {\n    return {\n      user: this.$store.state.user,\n      rules: [],\n\t    classify: '',\n      classifyOption: [],\n      dialogAddNewClassifyRule: false,\n\t    newClassifyRule: {\n        classify: '',\n\t\t    reason: '',\n\t\t    addLimit: '',\n\t\t    desLimit: '',\n\t\t    illustrate: ''\n\t    }\n    };\n  },\n  methods: {\n    getRule() {\n      let formData = new FormData();\n      formData.append(\"userId\",this.user.id)\n      this.$api.getRule(formData).then(res => {\n        this.classify = res.data[0].classify\n        this.rules = res.data\n        this.classifyOption = Object.keys(this.countClassify(res.data)).map(item => {\n          return {\n            label: item,\n\t          value: item\n          }\n        })\n      })\n    },\n    saveRule() {\n      this.$api.saveRule(this.rules).then(res => {\n\t\t\t\tthis.$showMsg('success',res.description)\n      })\n    },\n\t  countClassify(arr) {\n      return arr.reduce((prev, next) => {\n        prev[next.classify] = (prev[next.classify] + 1) || 1;\n        return prev;\n      },{})\n\t  },\n    addRule() {\n      this.rules.push({classify: this.classify})\n    },\n    deleteRule(ruleId) {\n      this.$confirm('确定删除该规则吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let formData = new FormData();\n        formData.append('ruleId',ruleId)\n        this.$api.deleteRule(formData).then(res => {\n          this.$showMsg('success',res.description)\n\t        this.getRules()\n        })\n      }).catch(() => {\n        this.$showMsg('info','已取消删除')\n      });\n    },\n    addNewClassifyRule() {\n      this.$api.addNewClassifyRule(this.newClassifyRule).then(res => {\n        this.$showMsg('success',res.description)\n\t      this.getRules()\n\t      this.dialogAddNewClassifyRule = false\n      })\n    },\n    cancelAddNewClassifyRule() {\n      this.dialogAddNewClassifyRule = false\n      this.newClassifyRule = {\n        classify: '',\n        reason: '',\n        addLimit: '',\n        desLimit: '',\n        illustrate: ''\n      }\n    },\n    deleteClassifyRule(classify) {\n      this.$confirm('确定删除该系列规则吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let formData = new FormData();\n        formData.append('classify',classify)\n        this.$api.deleteClassifyRule(formData).then(res => {\n\t\t\t\t\tthis.$showMsg('success',res.description)\n\t        this.getRule()\n        })\n      }).catch(() => {\n        this.$showMsg('info','已取消删除')\n      });\n    }\n  },\n  computed: {\n    rulesComputed() {\n      return this.rules.filter(item => {\n        return item.classify === this.classify\n      })\n    }\n  },\n  mounted() {\n    this.getRule()\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.btn-area {\n\t\ttext-align: right;\n\t}\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleManage.vue?vue&type=template&id=56adde26&scoped=true&\"\nimport script from \"./RuleManage.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RuleManage.vue?vue&type=style&index=0&id=56adde26&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56adde26\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleManage.vue?vue&type=style&index=0&id=56adde26&lang=scss&scoped=true&\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}