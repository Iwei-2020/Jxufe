{"version":3,"sources":["webpack:///./src/views/ModifyLog.vue?dd72","webpack:///src/views/ModifyLog.vue","webpack:///./src/views/ModifyLog.vue?8224","webpack:///./src/views/ModifyLog.vue","webpack:///./src/components/MyPagination.vue?15af","webpack:///./src/components/MyPagination.vue?a187","webpack:///src/components/MyPagination.vue","webpack:///./src/components/MyPagination.vue?cdaf","webpack:///./src/components/MyPagination.vue","webpack:///./src/views/ModifyLog.vue?f858"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","_v","staticStyle","staticClass","model","value","callback","$$v","infoSearch","expression","classify","_l","item","index","key","label","year","timeSearch","user","logo","on","admitRemoveRecordBatch","_e","directives","name","rawName","ref","recordCompute","slice","currentPage","pageSize","getRowKeys","handleSelectionChange","scopedSlots","_u","fn","scope","row","type","$event","showAttendanceDialog","attendanceId","_s","remark","_f","gmtRecord","length","handleCurrentChange","handleSizeChange","dialogSeeAttendanceVisible","attendance","closeAttendanceDialog","staticRenderFns","components","data","$store","state","classifyOption","recordList","loading","yearOption","removeSelection","methods","getDepartmentRecord","formData","set","$api","then","val","append","getSpecialAttendance","console","log","res","getClassify","getYearOption","getRecordYearOption","map","id","$confirm","confirmButtonText","cancelButtonText","mounted","computed","filter","component","total","currentPageDiy","pageSizeDiy","props","Number","default","$emit","watch","newValue"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACH,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,WAAW,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,OAAO,CAACJ,EAAIQ,GAAG,gBAAgBJ,EAAG,SAAS,CAACK,YAAY,CAAC,aAAa,SAASH,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACM,YAAY,eAAeJ,MAAM,CAAC,UAAY,GAAG,YAAc,eAAeK,MAAM,CAACC,MAAOZ,EAAc,WAAEa,SAAS,SAAUC,GAAMd,EAAIe,WAAWD,GAAKE,WAAW,gBAAgBZ,EAAG,YAAY,CAACK,YAAY,CAAC,OAAS,UAAUH,MAAM,CAAC,YAAc,OAAO,UAAY,IAAIK,MAAM,CAACC,MAAOZ,EAAY,SAAEa,SAAS,SAAUC,GAAMd,EAAIiB,SAASH,GAAKE,WAAW,aAAahB,EAAIkB,GAAIlB,EAAkB,gBAAE,SAASmB,EAAKC,GAAO,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAMd,MAAM,CAAC,MAAQa,EAAKG,MAAM,MAAQH,EAAKP,YAAW,GAAGR,EAAG,YAAY,CAACK,YAAY,CAAC,OAAS,UAAUH,MAAM,CAAC,YAAc,KAAK,UAAY,IAAIK,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIuB,KAAKT,GAAKE,WAAW,SAAShB,EAAIkB,GAAIlB,EAAc,YAAE,SAASmB,EAAKC,GAAO,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAMd,MAAM,CAAC,MAAQa,EAAKG,MAAM,MAAQH,EAAKP,YAAW,GAAGR,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,YAAY,gBAAgB,GAAG,kBAAkB,IAAI,oBAAoB,OAAO,kBAAkB,QAAQK,MAAM,CAACC,MAAOZ,EAAc,WAAEa,SAAS,SAAUC,GAAMd,EAAIwB,WAAWV,GAAKE,WAAW,iBAAiB,IAAI,GAAGZ,EAAG,SAAS,CAACK,YAAY,CAAC,aAAa,QAAQ,aAAa,SAAS,CAAoB,IAAlBT,EAAIyB,KAAKC,KAAYtB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWqB,GAAG,CAAC,MAAQ3B,EAAI4B,yBAAyB,CAAC5B,EAAIQ,GAAG,UAAUR,EAAI6B,MAAM,IAAI,GAAGzB,EAAG,WAAW,CAAC0B,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYpB,MAAOZ,EAAW,QAAEgB,WAAW,YAAYiB,IAAI,QAAQ3B,MAAM,CAAC,KAAON,EAAIkC,cAAcC,OAAOlC,KAAKmC,YAAY,GAAGnC,KAAKoC,SAASpC,KAAKmC,YAAYnC,KAAKoC,UAAU,OAAS,GAAG,UAAUrC,EAAIsC,YAAYX,GAAG,CAAC,mBAAmB3B,EAAIuC,wBAAwB,CAAoB,IAAlBvC,EAAIyB,KAAKC,KAAYtB,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,KAAK,qBAAoB,KAAQN,EAAI6B,KAAKzB,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,eAAe,MAAQ,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,OAAO,MAAQ,WAAWF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,SAASkC,YAAYxC,EAAIyC,GAAG,CAAC,CAACpB,IAAI,UAAUqB,GAAG,SAASC,GAAO,MAAO,CAAqB,IAAnBA,EAAMC,IAAIC,KAAYzC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQqB,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAO9C,EAAI+C,qBAAqBJ,EAAMC,IAAII,iBAAiB,CAAChD,EAAIQ,GAAG,YAAYJ,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIiD,GAAGN,EAAMC,IAAIM,OAASP,EAAMC,IAAIM,OAAS,KAAK,cAAc9C,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,MAAMkC,YAAYxC,EAAIyC,GAAG,CAAC,CAACpB,IAAI,UAAUqB,GAAG,SAASC,GAAO,MAAO,CAAC3C,EAAIQ,GAAG,IAAIR,EAAIiD,GAAGjD,EAAImD,GAAG,aAAPnD,CAAqB2C,EAAMC,IAAIQ,YAAY,aAAa,GAAGhD,EAAG,gBAAgB,CAACE,MAAM,CAAC,MAAQN,EAAIkC,cAAcmB,OAAO,eAAerD,EAAIoC,YAAY,YAAYpC,EAAIqC,UAAUV,GAAG,CAAC,oBAAsB3B,EAAIsD,oBAAoB,iBAAmBtD,EAAIuD,oBAAoBnD,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUN,EAAIwD,4BAA4B7B,GAAG,CAAC,iBAAiB,SAASmB,GAAQ9C,EAAIwD,2BAA2BV,KAAU,CAAC1C,EAAG,WAAW,CAACE,MAAM,CAAC,KAAON,EAAIyD,WAAW,OAAS,KAAK,CAACrD,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,cAAc,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,aAAa,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,YAAY,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,cAAc,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,aAAaF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,aAAa,MAAQ,cAAc,GAAGF,EAAG,MAAM,CAACM,YAAY,YAAY,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWqB,GAAG,CAAC,MAAQ3B,EAAI0D,wBAAwB,CAAC1D,EAAIQ,GAAG,SAAS,IAAI,IAAI,IAAI,IAC3wImD,EAAkB,G,gECgFtB,GACE5B,KAAM,YACN6B,WAAY,CAAd,qBACEC,KAHF,WAII,MAAO,CACLpC,KAAMxB,KAAK6D,OAAOC,MAAMtC,KACxBV,WAAY,GACZS,WAAY,GACZP,SAAU,GACV+C,eAAgB,GAChBC,WAAY,CAClB,CACQ,MAAR,GACQ,QAAR,GACQ,WAAR,GACQ,aAAR,GACQ,SAAR,GACQ,OAAR,GACQ,OAAR,GACQ,SAAR,GACQ,SAAR,GACQ,UAAR,KAGM7B,YAAa,EACbC,SAAU,GACV6B,SAAS,EACTV,4BAA4B,EAC5BC,WAAY,GACZU,WAAY,GACZ5C,KAAM,GACN6C,gBAAiB,KAGrBC,QAAS,CACPC,oBADJ,WACA,WACA,eACMC,EAASC,IAAI,SAAnB,cACMvE,KAAKwE,KAAKH,oBAAoBC,GAAUG,MAAK,SAAnD,GACQ,EAAR,+BACA,oBACQ,EAAR,eAGIpB,oBAVJ,SAUA,GACMrD,KAAKmC,YAAcuC,GAErBpB,iBAbJ,SAaA,GACMtD,KAAKoC,SAAWsC,GAElB5B,qBAhBJ,SAgBA,cACM9C,KAAKuD,4BAA6B,EAClC,IAAN,eACMe,EAASK,OAAO,KAAtB,GACM3E,KAAKwE,KAAKI,qBAAqBN,GAAUG,MAAK,SAApD,GACQI,QAAQC,IAAIC,EAAInB,MAChB,EAAR,kCAGIH,sBAzBJ,WA0BMzD,KAAKwD,WAAa,GAClBxD,KAAKuD,4BAA6B,GAEpCyB,YA7BJ,WA6BA,WACMhF,KAAKwE,KAAKQ,cAAcP,MAAK,SAAnC,GACQ,EAAR,uCACU,MAAO,CACLpD,MAAOH,EACPP,MAAOO,UAKf+D,cAvCJ,WAuCA,WACMjF,KAAKwE,KAAKU,sBAAsBT,MAAK,SAA3C,GACQ,EAAR,0CACU,MAAO,CACLpD,MAAOH,EACPP,MAAOO,MAEnB,OAGIoB,sBAjDJ,SAiDA,GACMtC,KAAKmE,gBAAkBO,EAAIS,KAAI,SAArC,mBAEI9C,WApDJ,SAoDA,GACM,OAAOM,EAAIyC,IAEbzD,uBAvDJ,WAuDA,WACM3B,KAAKqF,SAAS,aAAc,KAAM,CAChCC,kBAAmB,KACnBC,iBAAkB,KAClB3C,KAAM,YACd,iBACQ,EAAR,iEACU,EAAV,kCACU,EAAV,6BACU,EAAV,4BAEA,kBACQ,EAAR,8BAIE4C,QAzGF,WA0GIxF,KAAKqE,sBACLrE,KAAKgF,cACLhF,KAAKiF,iBAEPQ,SAAU,CACRxD,cADJ,WACA,WAGM,OAFAjC,KAAKmC,YAAc,EACnBnC,KAAKoC,SAAW,GACZpC,KAAKc,YAAcd,KAAKgB,UAAYhB,KAAKsB,MAAQtB,KAAKuB,WAAW6B,OAAS,EACrEpD,KAAKgE,WAAW0B,QAAO,SAAtC,GACU,IAAV,wBACU,QACV,iIACA,yCACA,2GACA,4BAGa1F,KAAKgE,cC7MiU,I,wBCQ/U2B,EAAY,eACd,EACA7F,EACA4D,GACA,EACA,KACA,WACA,MAIa,aAAAiC,E,6CCnBf,W,oCCAA,IAAI7F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACM,YAAY,aAAaJ,MAAM,CAAC,WAAa,GAAG,OAAS,qCAAqC,MAAQN,EAAI6F,MAAM,eAAe7F,EAAI8F,eAAe,YAAY9F,EAAI+F,YAAY,aAAa,CAAC,EAAE,GAAG,GAAG,KAAKpE,GAAG,CAAC,iBAAiB3B,EAAIsD,oBAAoB,cAActD,EAAIuD,qBACxXI,EAAkB,GCOtB,G,UAAA,CACE5B,KAAM,eACNiE,MAAO,CACL5D,YAAa,CACXS,KAAMoD,OACNC,QAAS,GAEX7D,SAAU,CACRQ,KAAMoD,OACNC,QAAS,IAEXL,MAAO,CACLhD,KAAMoD,OACNC,QAAS,IAGbrC,KAhBF,WAiBI,MAAO,CACLiC,eAAgB,EAChBC,YAAa,KAGjB1B,QAAS,CACPf,oBADJ,SACA,GACMrD,KAAKkG,MAAM,sBAAjB,IAEI5C,iBAJJ,SAIA,GACMtD,KAAKkG,MAAM,mBAAjB,KAGEC,MAAO,CACLhE,YADJ,SACA,KACMnC,KAAK6F,eAAiBO,GAExBhE,SAJJ,SAIA,KACMpC,KAAK8F,YAAcM,MC3C6T,I,wBCQlVT,EAAY,eACd,EACA7F,EACA4D,GACA,EACA,KACA,WACA,MAIa,OAAAiC,E,6CCnBf,W","file":"static/js/chunk-2d88c947.a85d3fba.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('span',[_vm._v(\"教工积分修改记录\")])]),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":20}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"clearable\":\"\",\"placeholder\":\"教工编号/姓名(搜索)\"},model:{value:(_vm.infoSearch),callback:function ($$v) {_vm.infoSearch=$$v},expression:\"infoSearch\"}}),_c('el-select',{staticStyle:{\"margin\":\"0 10px\"},attrs:{\"placeholder\":\"计分分类\",\"clearable\":\"\"},model:{value:(_vm.classify),callback:function ($$v) {_vm.classify=$$v},expression:\"classify\"}},_vm._l((_vm.classifyOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-select',{staticStyle:{\"margin\":\"0 10px\"},attrs:{\"placeholder\":\"学年\",\"clearable\":\"\"},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}},_vm._l((_vm.yearOption),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.timeSearch),callback:function ($$v) {_vm.timeSearch=$$v},expression:\"timeSearch\"}})],1)],1),_c('el-row',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"20px\"}},[(_vm.user.logo === 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.admitRemoveRecordBatch}},[_vm._v(\"批量删除\")]):_vm._e()],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",attrs:{\"data\":_vm.recordCompute.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize),\"border\":\"\",\"row-key\":_vm.getRowKeys},on:{\"selection-change\":_vm.handleSelectionChange}},[(_vm.user.logo === 1)?_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"reserve-selection\":true}}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"tchNo\",\"label\":\"教工编号\"}}),_c('el-table-column',{attrs:{\"prop\":\"tchName\",\"label\":\"教工姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"executorName\",\"label\":\"计分部门名\"}}),_c('el-table-column',{attrs:{\"prop\":\"classify\",\"label\":\"计分分类\"}}),_c('el-table-column',{attrs:{\"prop\":\"reason\",\"label\":\"计分理由\",\"width\":\"200px\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 1)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showAttendanceDialog(scope.row.attendanceId)}}},[_vm._v(\"对应考勤记录\")]):_c('span',[_vm._v(_vm._s(scope.row.remark ? scope.row.remark : '无')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"addScore\",\"label\":\"加分\"}}),_c('el-table-column',{attrs:{\"prop\":\"desScore\",\"label\":\"扣分\"}}),_c('el-table-column',{attrs:{\"prop\":\"year\",\"label\":\"学年\"}}),_c('el-table-column',{attrs:{\"prop\":\"gmtRecord\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"dateFilter\")(scope.row.gmtRecord))+\" \")]}}])})],1),_c('my-pagination',{attrs:{\"total\":_vm.recordCompute.length,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize},on:{\"handleCurrentChange\":_vm.handleCurrentChange,\"handleSizeChange\":_vm.handleSizeChange}}),_c('el-dialog',{attrs:{\"visible\":_vm.dialogSeeAttendanceVisible},on:{\"update:visible\":function($event){_vm.dialogSeeAttendanceVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.attendance,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"attDate\",\"label\":\"日期\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeWork1\",\"label\":\"上班1打卡时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"workResult1\",\"label\":\"上班1打卡结果\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeOff1\",\"label\":\"下班1打卡时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"offResult1\",\"label\":\"下班1打卡结果\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeWork2\",\"label\":\"上班2打卡时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"workResult2\",\"label\":\"上班2打卡结果\"}}),_c('el-table-column',{attrs:{\"prop\":\"timeOff2\",\"label\":\"下班2打卡时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"offResult2\",\"label\":\"下班2打卡结果\"}})],1),_c('div',{staticClass:\"btn-area\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.closeAttendanceDialog}},[_vm._v(\"关闭\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-card>\n      <div slot=\"header\">\n        <el-row type=\"flex\" align=\"middle\">\n          <el-col :span=\"4\">\n            <span>教工积分修改记录</span>\n          </el-col>\n          <el-col :span=\"20\" style=\"text-align: right\">\n            <el-input clearable class=\"search-input\" placeholder=\"教工编号/姓名(搜索)\" v-model=\"infoSearch\"></el-input>\n            <el-select style=\"margin: 0 10px\" v-model=\"classify\" placeholder=\"计分分类\" clearable>\n              <el-option v-for=\"(item,index) in classifyOption\"\n                         :label=\"item.label\" :value=\"item.value\" :key=\"index\">\n              </el-option>\n            </el-select>\n            <el-select style=\"margin: 0 10px\" v-model=\"year\" placeholder=\"学年\" clearable>\n              <el-option v-for=\"(item,index) in yearOption\"\n                         :label=\"item.label\" :value=\"item.value\" :key=\"index\">\n              </el-option>\n            </el-select>\n            <el-date-picker v-model=\"timeSearch\" type=\"daterange\" unlink-panels\n                            range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </el-col>\n        </el-row>\n        <el-row style=\"text-align: right;margin-top: 20px\">\n          <el-button type=\"primary\" @click=\"admitRemoveRecordBatch\" v-if=\"user.logo === 1\">批量删除</el-button>\n        </el-row>\n      </div>\n      <el-table v-loading=\"loading\" :data=\"recordCompute.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)\"\n                border @selection-change=\"handleSelectionChange\" :row-key=\"getRowKeys\" ref=\"table\">\n        <el-table-column\n            v-if=\"user.logo === 1\"\n            type=\"selection\"\n            width=\"55\"\n            :reserve-selection=\"true\">\n        </el-table-column>\n        <el-table-column prop=\"tchNo\" label=\"教工编号\"></el-table-column>\n        <el-table-column prop=\"tchName\" label=\"教工姓名\"></el-table-column>\n        <el-table-column prop=\"executorName\" label=\"计分部门名\"></el-table-column>\n        <el-table-column prop=\"classify\" label=\"计分分类\"></el-table-column>\n        <el-table-column prop=\"reason\" label=\"计分理由\" width=\"200px\"></el-table-column>\n        <el-table-column prop=\"remark\" label=\"备注\" width=\"200px\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"showAttendanceDialog(scope.row.attendanceId)\" type=\"text\" v-if=\"scope.row.type === 1\">对应考勤记录</el-button>\n            <span v-else>{{scope.row.remark ? scope.row.remark : '无'}} </span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"addScore\" label=\"加分\"></el-table-column>\n        <el-table-column prop=\"desScore\" label=\"扣分\"></el-table-column>\n        <el-table-column prop=\"year\" label=\"学年\"></el-table-column>\n        <el-table-column prop=\"gmtRecord\" label=\"时间\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.gmtRecord | dateFilter }}\n          </template>\n        </el-table-column>\n      </el-table>\n      <my-pagination :total=\"recordCompute.length\" :current-page=\"currentPage\" :page-size=\"pageSize\"\n                     @handleCurrentChange=\"handleCurrentChange\" @handleSizeChange=\"handleSizeChange\"></my-pagination>\n      <el-dialog :visible.sync=\"dialogSeeAttendanceVisible\">\n        <el-table :data=\"attendance\" border>\n          <el-table-column prop=\"attDate\" label=\"日期\"></el-table-column>\n          <el-table-column prop=\"timeWork1\" label=\"上班1打卡时间\"></el-table-column>\n          <el-table-column prop=\"workResult1\" label=\"上班1打卡结果\"></el-table-column>\n          <el-table-column prop=\"timeOff1\" label=\"下班1打卡时间\"></el-table-column>\n          <el-table-column prop=\"offResult1\" label=\"下班1打卡结果\"></el-table-column>\n          <el-table-column prop=\"timeWork2\" label=\"上班2打卡时间\"></el-table-column>\n          <el-table-column prop=\"workResult2\" label=\"上班2打卡结果\"></el-table-column>\n          <el-table-column prop=\"timeOff2\" label=\"下班2打卡时间\"></el-table-column>\n          <el-table-column prop=\"offResult2\" label=\"下班2打卡结果\"></el-table-column>\n        </el-table>\n        <div class=\"btn-area\">\n          <el-button type=\"primary\" @click=\"closeAttendanceDialog\">关闭</el-button>\n        </div>\n      </el-dialog>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport MyPagination from \"../components/MyPagination\";\nexport default {\n  name: \"ModifyLog\",\n  components: {MyPagination},\n  data() {\n    return {\n      user: this.$store.state.user,\n      infoSearch: '',\n      timeSearch: '',\n      classify: '',\n      classifyOption: [],\n      recordList: [\n        {\n          tchNo: '',\n          tchName: '',\n          executorNo: '',\n          executorName: '',\n          classify: '',\n          reason: '',\n          remark: '',\n          addScore: '',\n          desScore: '',\n          gmtRecord: ''\n        }\n      ],\n      currentPage: 1,\n      pageSize: 10,\n      loading: true,\n      dialogSeeAttendanceVisible: false,\n      attendance: [],\n      yearOption: [],\n      year: '',\n      removeSelection: []\n    };\n  },\n  methods: {\n    getDepartmentRecord() {\n      let formData = new FormData();\n      formData.set(\"userId\",this.user.id)\n      this.$api.getDepartmentRecord(formData).then(res => {\n        this.recordList = res.data ? res.data:[]\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val\n    },\n    handleSizeChange(val) {\n      this.pageSize = val\n    },\n    showAttendanceDialog(id) {\n      this.dialogSeeAttendanceVisible = true\n      let formData = new FormData();\n      formData.append('id',id)\n      this.$api.getSpecialAttendance(formData).then(res => {\n        console.log(res.data)\n        this.attendance = res.data ? [res.data] : []\n      })\n    },\n    closeAttendanceDialog() {\n      this.attendance = []\n      this.dialogSeeAttendanceVisible = false\n    },\n    getClassify() {\n      this.$api.getClassify().then(res => {\n        this.classifyOption = res.data.map(item => {\n          return {\n            label: item,\n            value: item\n          }\n        })\n      })\n    },\n    getYearOption() {\n      this.$api.getRecordYearOption().then(res => {\n        this.yearOption = res.data ? res.data.map(item => {\n          return {\n            label: item,\n            value: item\n          }\n        }):[]\n      })\n    },\n    handleSelectionChange(val) {\n      this.removeSelection = val.map(item => item.id)\n    },\n    getRowKeys(row) {\n      return row.id\n    },\n    admitRemoveRecordBatch() {\n      this.$confirm('确定删除已选择记录?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$api.admitRemoveRecordBatch(this.removeSelection).then(res => {\n          this.$showMsg('success',res.description)\n          this.$refs.table.clearSelection();\n          this.getDepartmentRecord()\n        })\n      }).catch(() => {\n        this.$showMsg('info','已取消删除')\n      })\n    }\n  },\n  mounted() {\n    this.getDepartmentRecord()\n    this.getClassify()\n    this.getYearOption()\n  },\n  computed: {\n    recordCompute() {\n      this.currentPage = 1\n      this.pageSize = 10\n      if (this.infoSearch || this.classify || this.year || this.timeSearch.length > 1) {\n        return this.recordList.filter(item => {\n          let date = new Date(item.gmtRecord)\n          return (\n            (this.infoSearch ? (item.tchNo === this.infoSearch || item.tchName === this.infoSearch || item.executorNo === this.infoSearch || item.executorName ===this.infoSearch) : true)\n            && (this.classify ? (item.classify === this.classify) : true)\n            && (this.timeSearch.length > 1 ? (date.getTime() >= this.timeSearch[0].getTime() && date.getTime() <= this.timeSearch[1].getTime()) : true)\n            && (this.year ? (item.year === this.year) : true))\n        })\n      }\n      return this.recordList\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .search-input {\n    width: 20%;\n  }\n  .btn-area {\n    margin-top: 30px;\n    text-align: right;\n  }\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModifyLog.vue?vue&type=template&id=46729336&scoped=true&\"\nimport script from \"./ModifyLog.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifyLog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModifyLog.vue?vue&type=style&index=0&id=46729336&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46729336\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPagination.vue?vue&type=style&index=0&id=8756b672&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{staticClass:\"pagination\",attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev,pager,next,jumper\",\"total\":_vm.total,\"current-page\":_vm.currentPageDiy,\"page-size\":_vm.pageSizeDiy,\"page-sizes\":[5,10,20,50]},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-pagination background layout=\"total,sizes,prev,pager,next,jumper\" class=\"pagination\"\n                 @current-change=\"handleCurrentChange\" @size-change=\"handleSizeChange\"\n                 :total=\"total\" :current-page=\"currentPageDiy\" :page-size=\"pageSizeDiy\" :page-sizes=\"[5,10,20,50]\">\n  </el-pagination>\n</template>\n\n<script>\nexport default {\n  name: \"MyPagination\",\n  props: {\n    currentPage: {\n      type: Number,\n      default: 1\n    },\n    pageSize: {\n      type: Number,\n      default: 10\n    },\n    total: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      currentPageDiy: 1,\n      pageSizeDiy: 10\n    }\n  },\n  methods: {\n    handleCurrentChange(val) {\n      this.$emit('handleCurrentChange',val)\n    },\n    handleSizeChange(val) {\n      this.$emit('handleSizeChange',val)\n    }\n  },\n  watch: {\n    currentPage(newValue, oldValue) {\n      this.currentPageDiy = newValue\n    },\n    pageSize(newValue, oldValue) {\n      this.pageSizeDiy = newValue\n    }\n  },\n}\n</script>\n\n<style scoped>\n  .pagination {\n    margin-top: 10px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyPagination.vue?vue&type=template&id=8756b672&scoped=true&\"\nimport script from \"./MyPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./MyPagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyPagination.vue?vue&type=style&index=0&id=8756b672&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8756b672\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyLog.vue?vue&type=style&index=0&id=46729336&lang=scss&scoped=true&\""],"sourceRoot":""}