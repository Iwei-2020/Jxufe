{"version":3,"sources":["webpack:///./src/views/SignIn.vue?91dc","webpack:///src/views/SignIn.vue","webpack:///./src/views/SignIn.vue?6439","webpack:///./src/views/SignIn.vue","webpack:///./src/views/SignIn.vue?46a8"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","ref","attrs","loginDto","rules","model","callback","$$v","$set","on","$event","login","staticRenderFns","data","username","password","methods","$refs","formName","validate","valid","res","code","console","log","logo","getMenu","$api","url","then","router","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,MAAM,CAACP,EAAG,MAAM,CAACO,YAAY,8BAA8B,CAACP,EAAG,KAAK,CAACJ,EAAIY,GAAG,UAAUR,EAAG,IAAI,CAACJ,EAAIY,GAAG,eAAeR,EAAG,UAAU,CAACS,IAAI,OAAOC,MAAM,CAAC,MAAQd,EAAIe,SAAS,MAAQf,EAAIgB,MAAM,cAAc,QAAQ,CAACZ,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACU,MAAM,CAAC,UAAY,GAAG,YAAc,OAAOG,MAAM,CAACR,MAAOT,EAAIe,SAAiB,SAAEG,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIe,SAAU,WAAYI,IAAMT,WAAW,wBAAwB,GAAGN,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACU,MAAM,CAAC,UAAY,GAAG,YAAc,KAAK,KAAO,YAAYG,MAAM,CAACR,MAAOT,EAAIe,SAAiB,SAAEG,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIe,SAAU,WAAYI,IAAMT,WAAW,wBAAwB,GAAGN,EAAG,eAAe,CAACA,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,WAAWO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,MAAM,WAAW,CAACvB,EAAIY,GAAG,UAAU,IAAI,IAAI,GAAGR,EAAG,gBAAgB,CAACU,MAAM,CAAC,aAAc,EAAK,aAAc,EAAK,YAAa,EAAK,YAAc,GAAI,cAAgB,IAAI,WAAa,EAAE,UAAY,EAAE,gBAAkB,GAAI,aAAe,EAAE,gBAAkB,GAAG,UAAY,OAAO,MAAQ,OAAO,UAAY,OAAO,WAAa,OAAO,UAAY,WAAW,IACh2CU,EAAkB,G,wDCmCtB,GACEjB,KAAM,SACNkB,KAFF,WAGI,MAAO,CACLV,SAAU,CACRW,SAAU,GACVC,SAAU,IAEZX,MAAO,CACLU,SAAU,CAAlB,6CACQC,SAAU,CAAlB,6CAEA,aAGEC,QAAS,CACPL,MADJ,SACA,cACMtB,KAAK4B,MAAMC,GAAUC,UAAS,SAApC,GACQ,IAAIC,EAuBF,OAAO,EAtBP,EAAV,WACU,EAAV,oDACY,GAAiB,IAAbC,EAAIC,KAAY,CAClBC,QAAQC,IAAIH,EAAIR,MAChB,IAAd,cACc,EAAd,iCACc,EAAd,wCACc,EAAd,mCAC4B,IAAVY,EACF,EAAhB,sBACA,MACgB,EAAhB,wBAEgB,EAAhB,wBAGc,EAAd,mCAEA,oBACY,EAAZ,kBAOIC,QA9BJ,SA8BA,cACMrC,KAAKsC,KAAKD,QAAQE,GAAKC,MAAK,SAAlC,GAEQN,QAAQC,IAAI,QAAUH,GACtB,IAAR,cAEQ,EAAR,4BAEQ,IAAR,oBAEQS,EAAR,kBAEQ,EAAR,gCC7FgV,I,wBCQ5UC,EAAY,eACd,EACA5C,EACAyB,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E,kECnBf","file":"static/js/chunk-b66082e2.5f2702f4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bg\"},[_c('div',{staticClass:\"login-wrap animated fadeIn\"},[_c('h3',[_vm._v(\"财大附中\")]),_c('p',[_vm._v(\"教工积分制管理系统\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.loginDto,\"rules\":_vm.rules,\"label-width\":\"0px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"用户名\"},model:{value:(_vm.loginDto.username),callback:function ($$v) {_vm.$set(_vm.loginDto, \"username\", $$v)},expression:\"loginDto.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"密码\",\"type\":\"password\"},model:{value:(_vm.loginDto.password),callback:function ($$v) {_vm.$set(_vm.loginDto, \"password\", $$v)},expression:\"loginDto.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.login('form')}}},[_vm._v(\"登 录\")])],1)],1)],1),_c('vue-particles',{attrs:{\"clickEffect\":true,\"hoverEffect\":true,\"lineLinked\":true,\"lineOpacity\":0.4,\"linesDistance\":150,\"linesWidth\":2,\"moveSpeed\":3,\"particleOpacity\":0.7,\"particleSize\":5,\"particlesNumber\":30,\"clickMode\":\"push\",\"color\":\"#fff\",\"hoverMode\":\"grab\",\"linesColor\":\"#fff\",\"shapeType\":\"star\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"bg\" v-loading=\"loading\">\n\t\t<div class=\"login-wrap animated fadeIn\">\n\t\t\t<h3>财大附中</h3>\n\t\t\t<p>教工积分制管理系统</p>\n\t\t\t<el-form :model=\"loginDto\" :rules=\"rules\" label-width=\"0px\" ref=\"form\">\n\t\t\t\t<el-form-item prop=\"username\">\n\t\t\t\t\t<el-input clearable placeholder=\"用户名\" v-model=\"loginDto.username\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item prop=\"password\">\n\t\t\t\t\t<el-input clearable placeholder=\"密码\" type=\"password\" v-model=\"loginDto.password\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button @click=\"login('form')\" type=\"primary\">登 录</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</div>\n\t\t<vue-particles :clickEffect=\"true\"\n\t\t               :hoverEffect=\"true\"\n\t\t               :lineLinked=\"true\" :lineOpacity=\"0.4\"\n\t\t               :linesDistance=\"150\"\n\t\t               :linesWidth=\"2\"\n\t\t               :moveSpeed=\"3\"\n\t\t               :particleOpacity=\"0.7\"\n\t\t               :particleSize=\"5\"\n\t\t               :particlesNumber=\"30\"\n\t\t               clickMode=\"push\"\n\t\t               color=\"#fff\"\n\t\t               hoverMode=\"grab\"\n\t\t               linesColor=\"#fff\"\n\t\t               shapeType=\"star\"></vue-particles>\n\t</div>\n</template>\n<script>\nimport router from \"../router/index\";\nimport generateRoutes from \"../router/parse\";\nexport default {\n  name: \"SignIn\",\n  data() {\n    return {\n      loginDto: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: {required: true, message: '请输入用户名', trigger: \"blur\"},\n        password: {required: true, message: '请输入密码', trigger: \"blur\"}\n      },\n\t    loading: false\n    };\n  },\n  methods: {\n    login(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.loading = true\n          this.$api.login({loginDto: this.loginDto}).then(res => {\n            if (res.code === 1) {\n              console.log(res.data)\n              let logo = res.data.logo\n              this.$store.commit('initUser', res.data)\n              this.$store.commit('initToken', res.data.token)\n              this.$showMsg('success', res.description)\n              if (logo === -1) {\n                this.getMenu(\"getTchMenu\")\n              } else if(logo === 1) {\n                this.getMenu(\"getAdminMenu\");\n              } else {\n                this.getMenu(\"getMenu\");\n              }\n            } else {\n              this.$showMsg('error', res.description)\n            }\n          }).finally(() => {\n            this.loading = false\n          })\n        } else {\n          return false;\n        }\n      });\n    },\n    getMenu(url) {\n      this.$api.getMenu(url).then(res => {\n        // 提取菜单数组，交给本地存储\n        console.log('menu:' + res);\n        let menu = res.data.menu;\n        // 将原始数据进行本地存储\n        this.$store.commit('initMenu', menu)\n        // 解析出路由配置表\n        const _routes = generateRoutes(menu);\n        // 动态加载路由配置表\n        router.addRoutes(_routes);\n        // 跳转到首页\n        this.$router.push(\"/UserInfo\");\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n\t.bg {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-image: url(\"../assets/img/chalk.jpg\");\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover;\n\n\t\t#particles-js {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t}\n\t}\n\n\t.login-wrap {\n\t\twidth: 310px;\n\t\tpadding: 30px;\n\t\tz-index: 3;\n\t\tmargin-right: -50%;\n\t\tposition: relative;\n\t\tbackground: rgba(100, 100, 100, 0.5);\n\n\t\t.el-form-item {\n\t\t\tmargin-bottom: 25px !important;\n\t\t}\n\n\t\th3 {\n\t\t\ttext-align: center;\n\t\t\tcolor: #ebedef;\n\t\t\tmargin-top: 0;\n\t\t\tmargin-bottom: 5px;\n\t\t\tfont-size: 22px;\n\n\t\t\tspan {\n\t\t\t\tcolor: #20a0ff;\n\t\t\t}\n\t\t}\n\n\t\tp {\n\t\t\ttext-align: center;\n\t\t\tcolor: #fff;\n\t\t\tmargin: 0;\n\t\t\tletter-spacing: 1px;\n\t\t}\n\n\t\tform {\n\t\t\tmargin-top: 25px;\n\n\t\t\t.el-form-item {\n\t\t\t\tmargin-bottom: 15px;\n\t\t\t}\n\t\t}\n\n\t\ta {\n\t\t\ttext-decoration: none;\n\t\t\tcolor: #1f2d3d;\n\t\t}\n\n\t\tbutton {\n\t\t\twidth: 100%;\n\t\t\tfont-weight: 600;\n\t\t\tborder: none;\n\t\t\tborder-radius: 0;\n\t\t\tmargin-top: 20px;\n\t\t\tbackground-color: #bb162b;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=6d043a86&scoped=true&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SignIn.vue?vue&type=style&index=0&id=6d043a86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d043a86\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=style&index=0&id=6d043a86&lang=scss&scoped=true&\""],"sourceRoot":""}